# SSQuant - æœŸè´§é‡åŒ–äº¤æ˜“æ¡†æ¶

<div align="center">

ğŸ¿ï¸ **æ¾é¼ Quant** | ä¸“ä¸šçš„æœŸè´§CTPé‡åŒ–äº¤æ˜“æ¡†æ¶
<img width="728" height="352" alt="image" src="https://github.com/user-attachments/assets/26201b06-0992-44dd-8416-03edcbb8878b" />

[![PyPI](https://img.shields.io/pypi/v/ssquant.svg)](https://pypi.org/project/ssquant/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-Non--Commercial-red.svg)](LICENSE)

[GitHub](https://github.com/songshuquant/ssquant) | [Giteeï¼ˆå›½å†…æ¨èï¼‰](https://gitee.com/ssquant/ssquant)

**ä¸€æ¬¡ç¼–å†™ï¼Œä¸‰å¤„è¿è¡Œ** - å›æµ‹ / SIMNOWæ¨¡æ‹Ÿ / å®ç›˜CTP

</div>

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### âœ… ç»Ÿä¸€çš„ç­–ç•¥æ¡†æ¶

- **ä¸€å¥—ä»£ç ä¸‰å¤„è¿è¡Œ** - åŒä¸€ä»½ç­–ç•¥ä»£ç å¯åœ¨å›æµ‹ã€SIMNOWæ¨¡æ‹Ÿã€å®ç›˜CTPä¸‰ç§ç¯å¢ƒä¸‹è¿è¡Œ
- **å®Œæ•´çš„æ•°æ®æ”¯æŒ** - Kçº¿æ•°æ®ï¼ˆ1m/5m/15m/30m/1h/4h/1dï¼‰+ TICKé€ç¬”æ•°æ®
- **å¤šå“ç§å¤šå‘¨æœŸ** - åŒæ—¶äº¤æ˜“å¤šä¸ªå“ç§ï¼Œä½¿ç”¨ä¸åŒå‘¨æœŸæ•°æ®

### âœ… å¼ºå¤§çš„äº¤æ˜“åŠŸèƒ½

- **è‡ªåŠ¨å¼€å¹³ä»“ç®¡ç†** - æ™ºèƒ½è¯†åˆ«å¼€å¹³ä»“ã€ä»Šæ˜¨ä»“
- **æ™ºèƒ½ç®—æ³•äº¤æ˜“** - æ”¯æŒé™ä»·å•æ’é˜Ÿã€è¶…æ—¶æ’¤å•ã€è¿½ä»·é‡å‘ç­‰é«˜çº§é€»è¾‘
- **å®æ—¶å›è°ƒç³»ç»Ÿ** - on_trade/on_order/on_cancel å®æ—¶é€šçŸ¥
- **TICKæµåŒé©±åŠ¨** - Kçº¿é©±åŠ¨ + TICKé©±åŠ¨ä¸¤ç§æ¨¡å¼

### âœ… ä¸°å¯Œçš„ç­–ç•¥ç¤ºä¾‹

- 19ä¸ªå®Œæ•´ç­–ç•¥ç¤ºä¾‹
- æ¶µç›–è¶‹åŠ¿ã€å¥—åˆ©ã€è½®åŠ¨ã€æœŸæƒã€æœºå™¨å­¦ä¹ ç­‰ç±»å‹
- ä»å…¥é—¨åˆ°é«˜çº§ï¼Œå¾ªåºæ¸è¿›

---

## ğŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| **æ“ä½œç³»ç»Ÿ** | Windows 10+ï¼ˆâš ï¸ ç›®å‰ä»…æ”¯æŒ Windowsï¼ŒLinux ç‰ˆæœ¬å¾…æ›´æ–°ï¼‰ |
| **Python** | 3.9 ~ 3.14 |
| **CTPç‰ˆæœ¬** | 6.7.7 ~ 6.7.10 |
| **å†…å­˜** | 4GB+ |

---

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ pip å®‰è£…ï¼ˆæ¨èï¼‰

```bash
pip install ssquant
```

> ğŸ’¡ **æ–°æ‰‹å®‰è£…æŒ‡å¼• (è§£å†³ç¯å¢ƒé—®é¢˜)**
> 
> å¦‚æœé‡åˆ°ç¯å¢ƒç´¢å¼•é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
> 1. **å¸è½½æ—§ç‰ˆæœ¬**ï¼š`pip uninstall ssquant`
> 2. **é‡æ–°å®‰è£…**ï¼ˆæ¨èä½¿ç”¨å›½å†…æºï¼‰ï¼š
>    ```bash
>    pip install ssquant -i https://pypi.tuna.tsinghua.edu.cn/simple
>    ```
> 3. **è·å–ç¤ºä¾‹**ï¼šæ–°æ‰‹æœ‹å‹ç›´æ¥é€šè¿‡ pip å®‰è£…æ¡†æ¶ï¼Œç„¶ååˆ° [GitHub](https://github.com/songshuquant/ssquant) æˆ– [Giteeï¼ˆå›½å†…æ¨èï¼‰](https://gitee.com/ssquant/ssquant) ä¸‹è½½ `examples/` ç›®å½•ä¸‹çš„ç­–ç•¥ç¤ºä¾‹ã€‚
> 4. **è¡¥å……ä¾èµ–**ï¼šè¿è¡Œä¸­å¦‚æœæç¤ºç¼ºä»€ä¹ˆåº“ï¼Œç›´æ¥ `pip install åº“å` å®‰è£…å³å¯ã€‚

#### æ–¹å¼äºŒï¼šä» GitHub/Gitee æºç å®‰è£…

å¦‚æœæ‚¨ä¸‹è½½äº†æºç å‹ç¼©åŒ…ï¼ˆé€šå¸¸è§£å‹åæ–‡ä»¶å¤¹åä¸º `ssquant-main`ï¼‰ï¼Œæˆ–è€…é€šè¿‡ git clone æ‹‰å–äº†ä»£ç ï¼š

1. æ‰“å¼€ç»ˆç«¯ï¼ˆCMD/PowerShellï¼‰ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼ˆç¡®ä¿èƒ½çœ‹åˆ° `setup.py` æ–‡ä»¶ï¼‰ã€‚
2. è¿è¡Œå®‰è£…å‘½ä»¤ï¼š

```bash
pip install -e .
```

> **æ³¨æ„**ï¼š
> - å‘½ä»¤æœ€åæœ‰ä¸€ä¸ªç‚¹ `.`ï¼Œä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸è¦æ¼æ‰ã€‚
> - æ–‡ä»¶å¤¹åå­—ï¼ˆå¦‚ `ssquant-main`ï¼‰ä¸å½±å“å®‰è£…ï¼Œåªè¦ç›®å½•ç»“æ„æ­£ç¡®å³å¯ã€‚

#### â“ å¸¸è§é—®é¢˜ï¼šModuleNotFoundError: No module named 'ssquant'

å¦‚æœè¿è¡Œç­–ç•¥æ—¶é‡åˆ°è¿™ä¸ªé”™è¯¯ï¼š

```
ModuleNotFoundError: No module named 'ssquant'
```

**åŸå› **ï¼šssquant æœªå®‰è£…æˆ–å·²è¢«å¸è½½ã€‚

**è§£å†³æ–¹æ³•**ï¼š

1. æ£€æŸ¥æ˜¯å¦å·²å®‰è£…ï¼š
   ```bash
   pip list | findstr ssquant   # Windows
   ```

2. å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‡æ–°å®‰è£…ï¼š
   ```bash
   # æ–¹å¼ä¸€ï¼šä» PyPI å®‰è£…
   pip install ssquant
   
   # æ–¹å¼äºŒï¼šä»æºç å®‰è£…ï¼ˆåœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œï¼‰
   pip install -e .
   ```

3. éªŒè¯å®‰è£…æˆåŠŸï¼š
   ```bash
   python -c "from ssquant.api.strategy_api import StrategyAPI; print('ssquant å¯¼å…¥æˆåŠŸ!')"
   ```

### 2. é…ç½®è´¦æˆ·

å®‰è£…å®Œæˆåï¼Œéœ€è¦é…ç½®ç›¸å…³è´¦æˆ·ä¿¡æ¯ã€‚ç¼–è¾‘ `ssquant/config/trading_config.py`ï¼š

#### ğŸ“Š æ•°æ®APIé…ç½®ï¼ˆå›æµ‹å¿…éœ€ï¼‰

æ¡†æ¶ä½¿ç”¨**æ¾é¼ ä¿±ä¹éƒ¨ä¼šå‘˜è¿œç¨‹æ•°æ®åº“**ï¼Œä¼šå‘˜å¡«å…¥è´¦å·å¯†ç åï¼Œå›æµ‹å’Œå®ç›˜è‡ªåŠ¨é¢„æ‹‰å–æ•°æ®åˆ°æœ¬åœ°ï¼š

```python
# ========== æ•°æ®APIè®¤è¯ (æ¾é¼ ä¿±ä¹éƒ¨ä¼šå‘˜) ==========
API_USERNAME = "ä½ çš„ä¼šå‘˜è´¦å·"
API_PASSWORD = "ä½ çš„ä¼šå‘˜å¯†ç "
```

> ğŸ’¡ **éä¼šå‘˜ç”¨æˆ·**ï¼š
> - å¯è‡ªè¡Œä¿®æ”¹è¿œç¨‹æœåŠ¡å™¨åœ°å€
> - æˆ–å‚è€ƒ `examples/A_å·¥å…·_å¯¼å…¥æ•°æ®åº“DBç¤ºä¾‹.py` å¯¼å…¥æœ¬åœ°æ•°æ®

#### ğŸ” äº¤æ˜“è´¦æˆ·é…ç½®ï¼ˆæ¨¡æ‹Ÿ/å®ç›˜ï¼‰

```python
# SIMNOWè´¦æˆ·ï¼ˆæ¨¡æ‹Ÿäº¤æ˜“ï¼‰
ACCOUNTS = {
    'simnow_default': {
        'investor_id': 'ä½ çš„SIMNOWè´¦å·',
        'password': 'ä½ çš„å¯†ç ',
        'server_name': 'ç”µä¿¡1',  # ç”µä¿¡1/ç”µä¿¡2/ç§»åŠ¨/TEST
        # ...
    },
    
    # å®ç›˜è´¦æˆ·
    'real_default': {
        'broker_id': 'æœŸè´§å…¬å¸ä»£ç ',
        'investor_id': 'èµ„é‡‘è´¦å·',
        'password': 'å¯†ç ',
        'md_server': 'tcp://xxx:port',
        'td_server': 'tcp://xxx:port',
        'app_id': 'AppID',
        'auth_code': 'æˆæƒç ',
        # ...
    },
}
```

### 3. ç¼–å†™ç­–ç•¥

```python
from ssquant.api.strategy_api import StrategyAPI
from ssquant.backtest.unified_runner import UnifiedStrategyRunner, RunMode
from ssquant.config.trading_config import get_config

def my_strategy(api: StrategyAPI):
    """åŒå‡çº¿ç­–ç•¥"""
    close = api.get_close()
    
    if len(close) < 20:
        return
    
    ma5 = close.rolling(5).mean()
    ma20 = close.rolling(20).mean()
    pos = api.get_pos()
    
    # é‡‘å‰åšå¤š
    if ma5.iloc[-2] <= ma20.iloc[-2] and ma5.iloc[-1] > ma20.iloc[-1]:
        if pos <= 0:
            if pos < 0:
                api.buycover(order_type='next_bar_open')
            api.buy(volume=1, order_type='next_bar_open')
    
    # æ­»å‰åšç©º
    elif ma5.iloc[-2] >= ma20.iloc[-2] and ma5.iloc[-1] < ma20.iloc[-1]:
        if pos >= 0:
            if pos > 0:
                api.sell(order_type='next_bar_open')
            api.sellshort(volume=1, order_type='next_bar_open')

if __name__ == "__main__":
    # å›æµ‹é…ç½®
    config = get_config(
        mode=RunMode.BACKTEST,
        symbol='rb888',
        start_date='2025-01-01',
        end_date='2025-11-30',
        kline_period='1h',
        price_tick=1.0,
        contract_multiplier=10,
    )
    
    # è¿è¡Œ
    runner = UnifiedStrategyRunner(mode=RunMode.BACKTEST)
    runner.set_config(config)
    results = runner.run(strategy=my_strategy)
```

### 4. åˆ‡æ¢æ¨¡å¼åªéœ€æ”¹é…ç½®

```python
# ===== å›æµ‹æ¨¡å¼ =====
config = get_config(
    mode=RunMode.BACKTEST,
    symbol='rb888',
    start_date='2025-01-01',
    end_date='2025-11-30',
    kline_period='1h',
)

# ===== SIMNOWæ¨¡æ‹Ÿ =====
config = get_config(
    mode=RunMode.SIMNOW,
    account='simnow_default',      # ä½¿ç”¨é¢„é…ç½®çš„è´¦æˆ·
    symbol='rb2601',               # å…·ä½“åˆçº¦æœˆä»½
    kline_period='1m',
)

# ===== å®ç›˜äº¤æ˜“ =====
config = get_config(
    mode=RunMode.REAL_TRADING,
    account='real_default',        # ä½¿ç”¨é¢„é…ç½®çš„è´¦æˆ·
    symbol='rb2601',
    kline_period='1m',
)
```

**ç­–ç•¥ä»£ç å®Œå…¨ä¸ç”¨æ”¹ï¼**

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | è¯´æ˜ | é€‚åˆ |
|------|------|------|
| [ç”¨æˆ·æ‰‹å†Œ.md](ç”¨æˆ·æ‰‹å†Œ.md) | ğŸ“– å®Œæ•´ä½¿ç”¨æ•™ç¨‹ | æ–°æ‰‹å¿…è¯» |
| [APIå‚è€ƒæ‰‹å†Œ.md](APIå‚è€ƒæ‰‹å†Œ.md) | ğŸ“š è¯¦ç»†APIè¯´æ˜ | å¼€å‘æŸ¥è¯¢ |
| [æ–‡æ¡£å¯¼èˆª.md](æ–‡æ¡£å¯¼èˆª.md) | ğŸ“‘ æ‰€æœ‰æ–‡æ¡£ç´¢å¼• | æŸ¥æ‰¾æ–‡æ¡£ |
---

## ğŸ“ ç¤ºä¾‹ç­–ç•¥

æ‰€æœ‰ç¤ºä¾‹åœ¨ `examples/` ç›®å½•ï¼ˆå…±19ä¸ªï¼‰ï¼š

### å·¥å…·ç±» (A_å¼€å¤´)

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `A_å·¥å…·_å¯¼å…¥æ•°æ®åº“DBç¤ºä¾‹.py` | æ•°æ®å¯¼å…¥æ•°æ®åº“ |
| `A_å·¥å…·_æ•°æ®åº“ç®¡ç†_æŸ¥çœ‹ä¸åˆ é™¤.py` | æ•°æ®åº“ç®¡ç† |
| `A_æ’¤å•é‡å‘ç¤ºä¾‹.py` | è®¢å•æ’¤å•é‡å‘æœºåˆ¶ |
| `A_ç©¿é€å¼æµ‹è¯•è„šæœ¬.py` | CTPç©¿é€å¼è®¤è¯æµ‹è¯• |

### ç­–ç•¥ç±» (B_å¼€å¤´)

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `B_åŒå‡çº¿ç­–ç•¥.py` | â­ ç»å…¸å‡çº¿äº¤å‰ï¼Œå…¥é—¨æ¨è |
| `B_æµ·é¾Ÿäº¤æ˜“ç­–ç•¥.py` | å”å¥‡å®‰é€šé“çªç ´ |
| `B_åå¤§ç»å…¸ç­–ç•¥ä¹‹Aberration.py` | å¸ƒæ—å¸¦çªç ´ |
| `B_æ—¥å†…äº¤æ˜“ç­–ç•¥.py` | æ—¥å†…äº¤æ˜“ |
| `B_ç½‘æ ¼äº¤æ˜“ç­–ç•¥.py` | ç½‘æ ¼äº¤æ˜“ |
| `B_å¼ºå¼±æˆªé¢è½®åŠ¨ç­–ç•¥.py` | å¤šå“ç§å¼ºå¼±è½®åŠ¨ |
| `B_è·¨å‘¨æœŸè¿‡æ»¤ç­–ç•¥.py` | å¤šå‘¨æœŸä¿¡å·è¿‡æ»¤ |
| `B_è·¨å“ç§å¥—åˆ©ç­–ç•¥.py` | å“ç§é—´ä»·å·®å¥—åˆ© |
| `B_è·¨æœŸå¥—åˆ©ç­–ç•¥.py` | åŒå“ç§è·¨æœŸå¥—åˆ© |
| `B_å¤šå“ç§å¤šå‘¨æœŸäº¤æ˜“ç­–ç•¥.py` | å¤šå“ç§å¤šå‘¨æœŸ |
| `B_å¤šå“ç§å¤šå‘¨æœŸäº¤æ˜“ç­–ç•¥_å‚æ•°ä¼˜åŒ–.py` | å‚æ•°ä¼˜åŒ–ç¤ºä¾‹ |
| `B_æœºå™¨å­¦ä¹ ç­–ç•¥_éšæœºæ£®æ—.py` | MLæœºå™¨å­¦ä¹ é¢„æµ‹ |

### é«˜çº§ç±» (C_å¼€å¤´)

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `C_æœŸæƒäº¤æ˜“ç­–ç•¥.py` | æœŸæƒäº¤æ˜“ |
| `C_æœŸè´§æœŸæƒç»„åˆç­–ç•¥.py` | æœŸè´§æœŸæƒç»„åˆ |
| `C_çº¯Tické«˜é¢‘äº¤æ˜“ç­–ç•¥.py` | TICKæµé«˜é¢‘äº¤æ˜“ |

---

## ğŸ¤– AI-Agent æ™ºèƒ½åŠ©æ‰‹

é¡¹ç›®å†…ç½® **AI é‡åŒ–ç­–ç•¥ç¼–å†™åŠ©æ‰‹**ï¼Œå¸®åŠ©ä½ å¿«é€Ÿç”Ÿæˆã€è°ƒè¯•å’Œä¼˜åŒ–äº¤æ˜“ç­–ç•¥ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ’¬ **æ™ºèƒ½å¯¹è¯** - ç”¨è‡ªç„¶è¯­è¨€æè¿°ç­–ç•¥éœ€æ±‚ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆä»£ç 
- ğŸ“ **ä»£ç ç”Ÿæˆ** - ä¸€é”®ç”Ÿæˆç¬¦åˆ ssquant æ¡†æ¶è§„èŒƒçš„ç­–ç•¥ä»£ç 
- ğŸ”§ **ä¸€é”®å›æµ‹** - ç›´æ¥è¿è¡Œç­–ç•¥ï¼Œå®æ—¶æŸ¥çœ‹å›æµ‹è¾“å‡ºå’ŒæŠ¥å‘Š
- ğŸ”„ **è‡ªåŠ¨è¿­ä»£** - AUTOæ¨¡å¼ä¸‹ AI è‡ªåŠ¨åˆ†ææŠ¥å‘Šå¹¶ä¼˜åŒ–ç­–ç•¥

### ä½¿ç”¨æ–¹æ³•

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - AI-Agent **ä¸åŒ…å«åœ¨ `pip install ssquant` ä¸­**ï¼Œéœ€è¦ clone ä»“åº“ä½¿ç”¨
> - `ai_agent` ç›®å½•**å¿…é¡»ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹**ï¼Œä¾èµ– ssquant æ¡†æ¶è¿è¡Œ

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/songshuquant/ssquant.git
cd ssquant

# 2. ç¡®ä¿ç›®å½•ç»“æ„æ­£ç¡®
# ssquant/          â† é¡¹ç›®æ ¹ç›®å½•
# â”œâ”€â”€ ai_agent/     â† AI Agent
# â”œâ”€â”€ ssquant/      â† æ ¸å¿ƒæ¡†æ¶ï¼ˆå¿…éœ€ï¼‰
# â””â”€â”€ examples/     â† ç¤ºä¾‹ç­–ç•¥

# 3. è¿›å…¥ ai_agent ç›®å½•å¹¶å®‰è£…ä¾èµ–
cd ai_agent
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# 4. å¯åŠ¨æœåŠ¡
python app.py

# 5. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5000
# 6. ç‚¹å‡»å³ä¸Šè§’ âš™ï¸ é…ç½® AI æ¨¡å‹ API Key
```

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·æŸ¥çœ‹ [ai_agent/README.md](ai_agent/README.md)

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ssquant-main/                   # ğŸ“ é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ ssquant/                    # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ api/                    # ç­–ç•¥API
â”‚   â”‚   â””â”€â”€ strategy_api.py     # æ ¸å¿ƒAPIç±»
â”‚   â”œâ”€â”€ backtest/               # å›æµ‹å¼•æ“
â”‚   â”‚   â”œâ”€â”€ unified_runner.py   # ç»Ÿä¸€è¿è¡Œå™¨
â”‚   â”‚   â”œâ”€â”€ backtest_core.py    # å›æµ‹æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ live_trading_adapter.py  # å®ç›˜é€‚é…å™¨
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ trading_config.py   # é…ç½®ç”Ÿæˆï¼ˆè´¦æˆ·é…ç½®åœ¨æ­¤ï¼‰
â”‚   â”œâ”€â”€ data/                   # æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api_data_fetcher.py # APIæ•°æ®è·å–
â”‚   â”‚   â””â”€â”€ local_data_loader.py # æœ¬åœ°æ•°æ®åŠ è½½
â”‚   â”œâ”€â”€ ctp/                    # CTPäºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ py39/ ~ py314/      # å„Pythonç‰ˆæœ¬çš„CTPæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ loader.py           # CTPåŠ è½½å™¨
â”‚   â”œâ”€â”€ pyctp/                  # CTPå°è£…
â”‚   â”‚   â”œâ”€â”€ simnow_client.py    # SIMNOWå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ real_trading_client.py  # å®ç›˜å®¢æˆ·ç«¯
â”‚   â””â”€â”€ indicators/             # æŠ€æœ¯æŒ‡æ ‡
â”‚       â””â”€â”€ tech_indicators.py
â”‚
â”œâ”€â”€ ai_agent/                   # ğŸ¤– AIæ™ºèƒ½åŠ©æ‰‹ï¼ˆç‹¬ç«‹å·¥å…·ï¼‰
â”‚   â”œâ”€â”€ app.py                  # Flask Webåº”ç”¨
â”‚   â”œâ”€â”€ templates/index.html    # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ settings.json           # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt        # ä¾èµ–æ¸…å•
â”‚   â””â”€â”€ README.md               # ä½¿ç”¨è¯´æ˜
â”‚
â”œâ”€â”€ examples/                   # ğŸ“š ç­–ç•¥ç¤ºä¾‹ï¼ˆ19ä¸ªï¼‰
â”œâ”€â”€ backtest_results/           # ğŸ“Š å›æµ‹æŠ¥å‘Šè¾“å‡º
â”œâ”€â”€ backtest_logs/              # ğŸ“ å›æµ‹æ—¥å¿—
â””â”€â”€ data_cache/                 # ğŸ’¾ æ•°æ®ç¼“å­˜
```

---

## ğŸ’¡ æ ¸å¿ƒAPI

### æ•°æ®è·å–

```python
api.get_close()      # æ”¶ç›˜ä»·åºåˆ—
api.get_open()       # å¼€ç›˜ä»·åºåˆ—
api.get_high()       # æœ€é«˜ä»·åºåˆ—
api.get_low()        # æœ€ä½ä»·åºåˆ—
api.get_volume()     # æˆäº¤é‡åºåˆ—
api.get_klines()     # å®Œæ•´Kçº¿DataFrame
api.get_tick()       # å½“å‰TICKæ•°æ®ï¼ˆå®ç›˜ï¼‰
```

### æŒä»“æŸ¥è¯¢

```python
api.get_pos()        # å‡€æŒä»“ï¼ˆæ­£=å¤šï¼Œè´Ÿ=ç©ºï¼‰
api.get_long_pos()   # å¤šå¤´æŒä»“
api.get_short_pos()  # ç©ºå¤´æŒä»“
api.get_position_detail()  # è¯¦ç»†æŒä»“ï¼ˆä»Šæ˜¨ä»“ï¼‰
```

### äº¤æ˜“æ“ä½œ

```python
api.buy(volume=1)         # ä¹°å…¥å¼€ä»“
api.sell()                # å–å‡ºå¹³ä»“
api.sellshort(volume=1)   # å–å‡ºå¼€ä»“
api.buycover()            # ä¹°å…¥å¹³ä»“
api.close_all()           # å…¨éƒ¨å¹³ä»“
api.reverse_pos()         # åæ‰‹
```

### å¤šæ•°æ®æº

```python
# è®¿é—®ç¬¬2ä¸ªæ•°æ®æºï¼ˆindex=1ï¼‰
close = api.get_close(index=1)
api.buy(volume=1, index=1)
```

è¯¦è§ [APIå‚è€ƒæ‰‹å†Œ.md](APIå‚è€ƒæ‰‹å†Œ.md)

---

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **Python**: 3.9 ~ 3.14
- **ç³»ç»Ÿ**: Windows 10+ï¼ˆâš ï¸ ç›®å‰ä»…æ”¯æŒ Windowsï¼ŒLinux ç‰ˆæœ¬å¾…æ›´æ–°ï¼‰
- **å†…å­˜**: 4GB+
- **ç½‘ç»œ**: ç¨³å®šè¿æ¥ï¼ˆå®ç›˜/SIMNOWï¼‰

### CTPç‰ˆæœ¬æ”¯æŒ

æ¡†æ¶å†…ç½® CTP 6.7.7 ~ 6.7.10 ç‰ˆæœ¬ï¼Œä½äº `ssquant/ctp/pyXXX/` ç›®å½•ï¼š

| Pythonç‰ˆæœ¬ | ç›®å½• | çŠ¶æ€ |
|-----------|------|------|
| 3.9 | `py39/` | âœ… å·²åŒ…å« |
| 3.10 | `py310/` | âœ… å·²åŒ…å« |
| 3.11 | `py311/` | âœ… å·²åŒ…å« |
| 3.12 | `py312/` | âœ… å·²åŒ…å« |
| 3.13 | `py313/` | âœ… å·²åŒ…å« |
| 3.14 | `py314/` | âœ… å·²åŒ…å« |

---

## âš ï¸ é£é™©æç¤º

æœ¬æ¡†æ¶ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚æœŸè´§äº¤æ˜“æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚

- âš ï¸ è¯·å…ˆåœ¨SIMNOWå……åˆ†æµ‹è¯•ï¼ˆè‡³å°‘1å‘¨ï¼‰
- âš ï¸ å®ç›˜å‰ç”¨å°èµ„é‡‘éªŒè¯
- âš ï¸ åšå¥½é£é™©ç®¡ç†å’Œæ­¢æŸ
- âš ï¸ ä¸è¦ä½¿ç”¨é«˜æ æ†

---

## ğŸ“– å¿«é€Ÿé“¾æ¥

- [PyPI ä¸»é¡µ](https://pypi.org/project/ssquant/) - å®‰è£…å’Œç‰ˆæœ¬ä¿¡æ¯
- [GitHub ä»“åº“](https://github.com/songshuquant/ssquant) - æºç å’Œé—®é¢˜åé¦ˆ
- [Gitee ä»“åº“](https://gitee.com/ssquant/ssquant) - å›½å†…æ¨èï¼Œè®¿é—®æ›´å¿«
- [ç”¨æˆ·æ‰‹å†Œ](ç”¨æˆ·æ‰‹å†Œ.md) - å®Œæ•´ä½¿ç”¨æ•™ç¨‹
- [APIå‚è€ƒ](APIå‚è€ƒæ‰‹å†Œ.md) - æ‰€æœ‰APIè¯¦è§£

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.3.9 (2026-01) ğŸš€ é‡å¤§å‡çº§

æœ¬æ¬¡æ›´æ–°æ¶µç›–**å›æµ‹å¼•æ“ä¼˜åŒ–**ã€**æŠ¥å‘Šç³»ç»Ÿé‡æ„**å’Œ**AIæ™ºèƒ½åŠ©æ‰‹**ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ï¼š

| æ›´æ–°é¡¹ | æ”¹è¿›å†…å®¹ | æ•ˆæœ |
|-------|---------|------|
| **ğŸ¤– AI-Agent** | æ–°å¢ AI é‡åŒ–ç­–ç•¥ç¼–å†™åŠ©æ‰‹ | è‡ªç„¶è¯­è¨€ç”Ÿæˆç­–ç•¥ä»£ç  |
| **æ•°æ®å¯¹é½å‡½æ•°** | å®Œå–„ `align_data` å¤šæ•°æ®æºæ—¶é—´å¯¹é½æœºåˆ¶ | å¤šå‘¨æœŸ/å¤šå“ç§ç­–ç•¥æ•°æ®åŒæ­¥ |
| **æ•°æ®çª—å£æ§åˆ¶** | æ–°å¢ `lookback_bars` æ»‘åŠ¨çª—å£å‚æ•° | å†…å­˜å ç”¨é™ä½ 90%+ |
| **å›æµ‹é€Ÿåº¦æå‡** | ä¿®å¤æ•°æ®ç´¯ç§¯å¯¼è‡´çš„æ€§èƒ½ä¸‹é™é—®é¢˜ | é€Ÿåº¦ç¨³å®šï¼Œä¸å†é€æ­¥ä¸‹é™ |
| **æŠ¥å‘Šç”Ÿæˆé€Ÿåº¦** | Plotly æ›¿æ¢ matplotlib | ç”Ÿæˆé€Ÿåº¦æå‡ **5-10 å€** |
| **æŠ¥å‘Šç³»ç»Ÿé‡åˆ¶** | å…¨æ–°äº¤äº’å¼ HTML æŠ¥å‘Š | æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€å¤šå›¾å¯¹æ¯” |

è¯¦ç»†æ›´æ–°å†…å®¹è¯·æŸ¥çœ‹ [æ›´æ–°æ—¥å¿—_2026-01-06.md](æ›´æ–°æ—¥å¿—_2026-01-06.md)

### v0.3.7 (2025-12)

- ğŸ”„ ç§»é™¤æ„å»ºè„šæœ¬å’Œå†—ä½™æ–‡ä»¶
- âœ… ä¿®å¤ CTP ç™»å½•æŠ¥é”™ä¹±ç é—®é¢˜
- âœ… ä¼˜åŒ–é¡¹ç›®ç»“æ„

### v0.3.6 (2025-12)

- âœ… ä¿®å¤ CTP ç™»å½•æŠ¥é”™ä¹±ç é—®é¢˜ (Windowsä¸‹GBK/GB18030è§£ç )
- âœ… ä¼˜åŒ– SIMNOW å’Œå®ç›˜å®¢æˆ·ç«¯çš„é”™è¯¯ä¿¡æ¯æ˜¾ç¤º

### v0.3.0 (2025-12)

- âœ… å®Œæ•´çš„TICKæµåŒé©±åŠ¨æ¨¡å¼
- âœ… å¤šå“ç§å¤šå‘¨æœŸæ”¯æŒ
- âœ… è®¢å•æ’¤å•é‡å‘æœºåˆ¶
- âœ… å®æ—¶å›è°ƒç³»ç»Ÿï¼ˆon_trade/on_order/on_cancelï¼‰
- âœ… åŠ¨æ€price_tickå’Œoffset_ticks
- âœ… ç»Ÿä¸€çš„APIæ¥å£
- âœ… 19ä¸ªç­–ç•¥ç¤ºä¾‹

---

**å¼€å§‹ä½ çš„é‡åŒ–äº¤æ˜“ä¹‹æ—…ï¼** ğŸš€

æŸ¥çœ‹ [ç”¨æˆ·æ‰‹å†Œ.md](https://github.com/songshuquant/ssquant/blob/main/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C.md) äº†è§£è¯¦ç»†ä½¿ç”¨æ–¹æ³•ã€‚
